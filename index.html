<!doctype html>
<html lang="en">

<head>
  <script>
    (function () {
      // 1. 定义你的仓库名路径
      const REPO_NAME = '/curl-converter/';

      // 2. 备份原始 fetch
      const originalFetch = window.fetch;

      // 3. 重写 fetch
      window.fetch = function (input, init) {
        let url = (typeof input === 'string') ? input : input.url;

        // 4. 如果发现请求的是 wasm 文件，且它试图去根目录找（即不包含仓库名）
        if (url.includes('tree-sitter') && url.endsWith('.wasm') && !url.includes(REPO_NAME)) {
          // 强制提取文件名并拼接正确的路径
          const fileName = url.split('/').pop();
          const correctedUrl = REPO_NAME + fileName;

          console.warn('检测到 WASM 路径异常，已重定向:', url, '->', correctedUrl);

          // 返回修正后的请求
          return originalFetch(correctedUrl, init);
        }

        return originalFetch(input, init);
      };
    })();
  </script>
  <meta charset="UTF-8" />
  <link rel="icon" href="/curl-converter/assets/logo-COQYQKh8.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>curl-converter</title>
  <script type="module" crossorigin src="/curl-converter/assets/index-DgUJuuJX.js"></script>
  <link rel="stylesheet" crossorigin href="/curl-converter/assets/index-C9g_jbHA.css">
</head>

<body>
  <div id="app"></div>
</body>

</html>